$(document).ready(function(){var e=function(){var e=function(e,n){function i(e,n,i){var a=e;if(a.addClass("input--error"),i){var t=n.toString();a.attr("placeholder",t)}}"array"==typeof e?_.map(e,function(e){i(e),console.log(e)}):i(e,n,!0)};return{formHandler:function(e,n){var i=n;i.prop("disabled",!0);var a,t,o;return t=$(".notification__success"),o=$(".notification__error"),a=e.message,200===e.statusCode||201===e.statusCode?(o.hide(),t.find(".notification__message").text(a),t.fadeIn(300,function(){t.slideDown("slow")}),setTimeout(function(){t.fadeOut(300,function(){t.slideUp("slow"),i.prop("disabled",!1)})},5e3)):(t.hide(),o.find(".notification__message").text(a),o.fadeIn(300,function(){o.slideDown("slow")}),setTimeout(function(){o.fadeOut(300,function(){o.slideUp("slow"),i.prop("disabled",!1)})},3e3)),!1},invalidInput:e,checkEmail:function(n){return!!/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(n)||(e(email,"Please use a real email address."),!1)}}}();$(".email__signup").bind("submit",function(n){n.preventDefault();var i=$(this),a=i.find("input[name='email']"),t=a.val(),o=i.find("button");if(!t)return e.invalidInput($email,"Please fill in your email"),!1;e.checkEmail(t);var s={email:t};$.post("/subscribe",s,function(n){201!==n.statusCode&&200!==n.statusCode||a.val("");var i=n;console.log("Email added successfully."),e.formHandler(i,o)}).fail(function(n){console.log(n);var i=JSON.parse(n.responseText);e.formHandler(i,o)})})});